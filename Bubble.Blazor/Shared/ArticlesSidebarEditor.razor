@using Bubble.Shared.Enums


<MudDrawer Open=true Elevation="0" ClipMode=DrawerClipMode.Docked Variant="@DrawerVariant.Persistent" Color="Color.Primary">
    <MudDrawerHeader>
        <MudText Typo="Typo.h6">Фильтры</MudText>
    </MudDrawerHeader>
    <MudNavMenu>
        <MudSelect @bind-Value="Filter.Source" T="string" Label="Источники" AnchorOrigin="Origin.BottomCenter">
            <MudSelectItem Value="String.Empty" />
            @foreach (var source in Sources)
            {
                 <MudSelectItem Value="@source" />
            }
        </MudSelect>
        <MudTextField @bind-Value="Filter.ArticleTitleSearch" Label="Поиск в названии статьи" Variant="Variant.Text"></MudTextField>
        <MudSelect @bind-Value="Filter.PubDateComparisonOperator" T="ComparisonOperators" Label="Дата" AnchorOrigin="Origin.BottomCenter">
            <MudSelectItem Value=ComparisonOperators.Less_or_Equal>&le;</MudSelectItem>
            <MudSelectItem Value=ComparisonOperators.Equal>=</MudSelectItem>
            <MudSelectItem Value=ComparisonOperators.More_or_Equal>&ge;</MudSelectItem>
        </MudSelect>
        <MudDatePicker Label="Дата" Editable="true" @bind-Date="pubDate" Placeholder="Выберите дату" />
        @*<MudSelect @bind-Value="Filter.Approved" T="@(bool?)" Label="Одобрена?" AnchorOrigin="Origin.BottomCenter">
            <MudSelectItem Value=null>Все</MudSelectItem>
            <MudSelectItem Value=true>Да</MudSelectItem>
            <MudSelectItem Value=false>Нет</MudSelectItem>
        </MudSelect>*@
        <MudSelect @bind-Value="Filter.GoodnessRatingComparisonOperator" T="ComparisonOperators" Label="Рейтинг" AnchorOrigin="Origin.BottomCenter">
            <MudSelectItem Value=ComparisonOperators.Less_or_Equal>&le;</MudSelectItem>
            <MudSelectItem Value=ComparisonOperators.More_or_Equal>&ge;</MudSelectItem>
        </MudSelect>
        <MudSlider Value="@Filter.GoodnessRating" Min=-50 Max=500 Step=1 ValueLabel="true" />
        <MudButton OnClick=FilterOut Variant="Variant.Filled" FullWidth="true">Отфильтровать</MudButton>
    </MudNavMenu>
</MudDrawer>